import{P as t}from"./perfect-scrollbar-3de6c56d.js";import{h as s}from"./@vue-d17277d1.js";const e=["scroll","ps-scroll-y","ps-scroll-x","ps-scroll-up","ps-scroll-down","ps-scroll-left","ps-scroll-right","ps-y-reach-start","ps-y-reach-end","ps-x-reach-start","ps-x-reach-end"];var r={name:"PerfectScrollbar",props:{options:{type:Object,required:!1,default:()=>{}},tag:{type:String,required:!1,default:"div"},watchOptions:{type:Boolean,required:!1,default:!1}},emits:e,data:()=>({ps:null}),watch:{watchOptions(t){!t&&this.watcher?this.watcher():this.createWatcher()}},mounted(){this.create(),this.watchOptions&&this.createWatcher()},updated(){this.$nextTick((()=>{this.update()}))},beforeUnmount(){this.destroy()},methods:{create(){this.ps&&this.$isServer||(this.ps=new t(this.$el,this.options),e.forEach((t=>{this.ps.element.addEventListener(t,(s=>this.$emit(t,s)))})))},createWatcher(){this.watcher=this.$watch("options",(()=>{this.destroy(),this.create()}),{deep:!0})},update(){this.ps&&this.ps.update()},destroy(){this.ps&&(this.ps.destroy(),this.ps=null)}},render(){return s(this.tag,{class:"ps"},this.$slots.default&&this.$slots.default())}},a={install:(t,s)=>{s&&(s.name&&"string"==typeof s.name&&(r.name=s.name),s.options&&"object"==typeof s.options&&(r.props.options.default=()=>s.options),s.tag&&"string"==typeof s.tag&&(r.props.tag.default=s.tag),s.watchOptions&&"boolean"==typeof s.watchOptions&&(r.props.watchOptions=s.watchOptions)),t.component(r.name,r)}};export{a as i};
